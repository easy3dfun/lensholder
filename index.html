<!doctype html>
<html>
  <head>
    <style>
      body {
        display: grid;
        grid-template-rows: auto 1fr 1fr;
        gap: 10px;
        margin: 20px;
        height: 95vh;
        font-family: Arial, sans-serif;
      }
      #inputArea {
        display: flex;
        gap: 10px;
        align-items: center;
      }
      #urlInput {
        flex: 1;
        padding: 8px;
      }
      #renderOutput, #statsOutput {
        width: 100%;
        height: 100%;
        padding: 10px;
        font-family: monospace;
      }
      textarea {
        resize: none;
      }
    </style>
  </head>
  <body>

    <div id="inputArea">
      <input type="text" id="urlInput" placeholder="Enter file URL..." />
      <button id="renderBtn">Render</button>
    </div>

    <textarea id="renderOutput" placeholder="Rendered file will appear here..."></textarea>

    <textarea id="statsOutput" placeholder="Stats..."></textarea>

    <script>
      const renderBtn = document.getElementById('renderBtn');
      const urlInput = document.getElementById('urlInput');
      const renderOutput = document.getElementById('renderOutput');
      const statsOutput = document.getElementById('statsOutput');

      renderBtn.addEventListener('click', async () => {
        const url = urlInput.value.trim();
        if (!url) {
          alert('Please enter a file URL.');
          return;
        }

        try {
          const response = await fetch(url);
          if (!response.ok) throw new Error('File not found or cannot be loaded.');
          const text = await response.text();
          renderOutput.value = text;

          const lineCount = text.split('\n').length;
          statsOutput.value = `Number of lines: ${lineCount}`;
        } catch (error) {
          renderOutput.value = '';
          statsOutput.value = `Error: ${error.message}`;
        }
      });
    </script>

  </body>
</html>
